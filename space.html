<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<title>Space</title>
<style>
canvas {background: #000}
body {background: #777}
</style>
<script>

let tick = 0;
const framerate = 60;

window.addEventListener("click", ev_click);
window.addEventListener("touchstart", ev_click);
window.addEventListener("mousemove", ev_momove);
window.addEventListener("keydown", ev_push_keydown);

let mox = 700;
let moy = 300;
let current_string = "";

let centx = 500;
let centy = 500;
function ev_momove(event) {
	document.getElementById("object").innerHTML = current_string;
	let canvas_ele = document.getElementById('mycanvas');
	let canvas_pos = canvas_ele.getBoundingClientRect();
	mox = event.clientX - canvas_pos.left;
	moy = event.clientY - canvas_pos.top;
	current_string = "Mouse coordinate = (" + mox + ", " + moy + ")";
	draw(mox,moy);
}

window.setInterval(my_clock, 1000/framerate);
function my_clock() {
	tick++;
	document.getElementById("my-time").innerHTML = "t = " + tick + "<br>";
	draw(mox,moy);
}


function ev_click(event) {
	current_string = "clicked!";
	document.getElementById("object").innerHTML = current_string;
	centx = mox;
	centy = moy;
}

function create_random_star() {
	star_posx = 100 * Math.random();
	star_posx = 100 * Math.random();
}

function ev_push_keydown(event){
//	current_string += event.key;
	current_string = "Something Typed!";
	document.getElementById("object").innerHTML = current_string;
	clear();
}
function clear() {
	let canvas_ele = document.getElementById('mycanvas');
	if (canvas_ele.getContext) {
		let ctx = canvas_ele.getContext('2d');
		ctx.clearRect(0, 0, canvas_ele.width, canvas_ele.height);
	}
}
function draw(x, y) {
	let canvas_ele = document.getElementById('mycanvas');
	if (canvas_ele.getContext) {
		let ctx = canvas_ele.getContext('2d');
		ctx.fillStyle = 'rgb(200, 0, 0, 0.2)';
		ctx.fillRect(x-10, y-10, 10, 10);

		ctx.fillStyle = 'rgb(200, 200, 200, 0.2)';
		ctx.fillRect(100 * Math.sin(6.2*tick)-5 + mox, 100* Math.cos(6.2*tick)-5 + moy, 10, 10);
	}
}
</script>
</head>
<body>
<center>
<canvas id="mycanvas" width="1500" height="700"></canvas>
<h2 id="my-time">Click Anywhere</h2>
<h1 id="object" class="text"></h1>
</center>
</body>
</html>









